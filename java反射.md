# java反射

###### 1.动态语言

​	动态语言，是指程序在运行时可以改变其结构。新的函数可以引进，已有的函数可以被删除登结构上的变化。

###### 2.反射机制概念

​	java种的反射机制指在运行状态种，对于任意一个类都能够知道这个类所有方法和属性；并且对于任意一个对象，都能够调用它的任意方法；这种动态获取信息以及动态调用对象方法的功能成为java的反射机制。

###### 3.反射的应用场合

​	在java程序种许多对象在运行都是会出现两种类型，编译时类型和运行时类型。编译时的类型由声明对象时使用的类型来决定，运行时的类型由实际赋值给对象的类型决定。

```java
Person p = new Student();
// 其中编译时类型为Person，运行时类型为Student
```

程序在运行时还可能接收到外部传入的对象，改对象的编译时类型为Object，但程序有需要调用该对象的运行时类型的方法。为了解决这些问题，程序需要在运行时发现对象和类的真实信息。然而，如果编译时根本无法预知该对象和类属于哪些类，程序只能i依靠运行时信息来发现该对象和类的真是信息，此时就必须使用反射。

###### 4. java反射API（反射API用来生成JVM种的类，接口或对象的信息）

​	1.Class类：反射的核心类，可以获取类的属性，方法等信息。

​	2.Field类，java.lang.reflec包种的类，表示类的成员变量，可以用来获取和设置类之中的属性值。

​	3.Method类，java.lang.reflec包种的类，表示类的方法，可以用来获取类中的方法信息或执行方法。

​	4.Constructor类，java.lang.reflec包种的类。表示构造方法

###### 5.反射使用步骤

1. 获取想要操作类的Class对象，他就是反射的核心，通过Class对象我们可以任意调用类的方法。

 	2. 调用Class类种的方法，就是反射的使用阶段。
 	3. 使用反射API来操作这些信息。

###### 6.获取Class对象的3种方法

 1. 调用对象的getClass()方法

    ```java
    Person p = new Person();
    Class clazz = p.getClass();
    ```

 2. 调用某个类的class属性来获取该类对象的Class对象

    ```java
    Class clazz = Person.class;
    ```

    

 3. 使用Class类种的forName()静态方法（最安全/性能最好）

    ```java
    Class clazz = Class.forName("路径");
    ```

    